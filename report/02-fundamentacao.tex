\section{Fundamentação Teórica}
\subsection{Banco de Dados Distribuído}
Um banco de dados distribuído é um banco de dados cujos dados estão armazenados em diferentes locais, 
mas se intercomunicam de forma a parecerem um único banco de dados para o usuário.

A distribuição dos dados entre várias máquinas possibilita melhorar a escalabilidade,
a disponibilidade e a tolerância a falhas do sistema. Entretanto, essa distribuição 
implica em custos adicionais de comunicação e sincronização entre os nós do sistema.

Acerca da distribuição dos dados em bancos de dados distribuídos, 
tanto as tuplas como os atributos que as compõem podem ser fragmentados entre os nós do sistema,
e cópias desses dados podem ser replicadas em mais de um nó. 

\subsubsection{Fragmentação Horizontal}
A fragmentação horizontal consiste das distribuição das <tuplas inteiras> de uma tabela entre as diferentes máquinas do sistema.
Essa fragmentação é feita para que cada fragmento contenha um subconjunto das tuplas da tabela original,
e cada fragmento contém todas as colunas da tabela original.

\subsubsection{Fragmentação Vertical}
A fragmentação vertical consiste na distribuição dos atributos de uma tabela entre as diferentes máquinas do sistema, 
mantendo em comum a chave primária da tabela original.
Essa fragmentação é feita para que cada fragmento armazene um subconjunto dos atributos para cada tupla da tabela original.

\subsubsection{Fragmentação Mista}
A fragmentação mista combina as estratégias de fragmentação horizontal e vertical.
Nesse caso, cada fragmento armazena um subconjuntos dos atributos de uma tabela para algumas das tuplas.

\subsubsection{Replicação}
No que diz respeito a redundância dos dados entre os nós do sistema,
a replicação consiste na cópia de um fragmento de dados em mais de um nó. 
Essa cópia pode ser feita de forma parcial ou completa, e uma maior redundância dos dados 
implca em maior disponibilidade e tolerância a falhas do sistema, mas aumenta os custos de armazenamento e sincronização.

\subsubsection{Homogeneidade e Heterogeneidade}
Os bancos de dados distribuídos também podem ser configurados por nós de mesma natureza,
no que se diz respeito ao SGBD utilizado, modelos de dados, protocolos de comunicação,
fragmentação e replicação dos dados. 

Um sistema cujos nós seguem uma mesma arquitetura geral é classificado como homogêneo, 
e desfruta de um maior desempenho geral e simplicidade de implementação e escalabilidade.

Diferentemente, um sistema heterogêneo é composto por nós de diferentes arquiteturas,
o que aumenta a complexidade de implementação, manutenção e requer um esforço maior
de intercomunicação entre os nós para garantir a transparência ao usuário. 

\subsubsection{Alocação de Dados}
A alocação de dados em um banco de dados distribuído é o processo pelo qual é decido onde os dados serão armazenados,
levando em consideração a configuração dos nós do sistema e as métricas de desempenho desejadas.
O processo de alocação de dados pode ser feito de forma centralizada ou descentralizada.
<Adicionar algo aqui mais tarde se pá>

\subsubsection{Consulta em Banco de Dados Distribuído}
Devido a variedade de configurações e os fragmentos de dados contidos nos nós do sistema,
o processo de consulta adquire uma complexidade maior em um banco de dados distribuído.

\subsubsection{Plano de Consulta}
<SLA>

\subsubsection{Transações}
<SLA>

\subsubsection{Tolerância a Falhas}
<SLA>

\subsection{Citus}
Para o desenvolvimento do projeto, foi utilizado o Citus, uma extensão do PostgreSQL para bases de dados distribuídas.
O Citus apresenta suporte a fragmentação horizontal e vertical, replicação de dados. 
O citus suporta exclusivamente o SGBD PostgreSQL.


\subsubsection{Nós coordenadores e nós trabalhadores}

O  Citus atribuí aos seus nós dois papéis distintos, 
\textit{worker} e \text{coordinator}.

Os \text{worker nodes} são responsãveis por armazenar os dados e processar as consultas,
e compõe a maior parte dos nós do sistema.

Cada cluster de nós trabalhadores é gerenciado por um nó coordenador,
o papel do nó coordenador é intermediar as consultas da aplicação entre um ou múltiplos
nós que contém os dados desejados, acumular os resultados e retornar o resultado final para a aplicação.  
O nó coordenador também mantem a alocação, o controle da consistência dos dados 
e da integridade dos nós trabalhadores.

\subsubsection{Tipos de Tabelas}
O Citus oferece os seguintes tipos de tabelas:
\begin{itemize}
	\item \textbf{Distributed Tables}: 
	São tabelas distribuídas horizontalmente entre os nós trabalhadores. 
	O Citus utiliza um algoritmo determinístico baseado em uma coluna de distribuição para alocar as tuplas nos fragmentos.
	Alterações no esquema de uma tabela distribuída são propagadas para todos os fragmentos associados.

	\item \textbf{Reference Tables}: 
	Tabelas replicadas integralmente em todos os nós trabalhadores. 
	Elas são úteis para armazenar dados pequenos e frequentemente acessados pela maioria dos nós.

	\item \textbf{Local Tables}: 
	São tabelas armazenadas apenas em um nó coordenador, são tabelas PostgreSQL padrão e não são fragmentadas.
	
	\item \textbf{Local Managed Tables}: 
	<reler>

	\item \textbf{Schema Tables}: 
	<aff>

\end{itemize}

\subsubsection{Execução de Consultas}
<TODO>